<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: classes/Camera.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: classes/Camera.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Classe che rappresenta il punto di vista della camera. Indica il punto di osservazione.*/
class Camera {
    /**
     * @constructor
     * @param eye {Array(3)}
     * @param at {Array(3)}
     * @param up {Array(3)}
     * @param fovy {Float}
     * @param aspect {Float}
     */
    constructor(eye, at, up, fovy, aspect) {
        this.eye = glMatrix.vec3.fromValues(eye[0], eye[1], eye[2]);
        this.up = glMatrix.vec3.fromValues(up[0], up[1], up[2]);
        this.at = glMatrix.vec3.fromValues(at[0], at[1], at[2]);
        this.VirtualProjectionMatrix = glMatrix.mat4.create();
        this.fovy = fovy;
        this.aspect = aspect;
        glMatrix.mat4.lookAt(this.VirtualProjectionMatrix, this.eye, this.at, this.up);
        this.h = 2 * Math.tan(rad(fovy / 2.0));
        this.w = this.h * aspect;
    }

    /**
     * Funzione che, preso un punto del canvas, genera un raggio luminoso verso il pixel a partire dal punto di osservazione della camera.
     * @param x {Integer} Riga del Canvas
     * @param y {Integer} Colonna del Canvas
     * @returns {Ray} Raggio generato dalla camera verso il pixel
     */
    castRay(x, y) {
        let u = (this.w * x / (canvas.width - 1)) - (this.w / 2.0);
        let v = (-this.h * y / (canvas.height - 1)) + (this.h / 2.0);

        let direction = glMatrix.vec3.fromValues(u, v * this.VirtualProjectionMatrix[5] - this.VirtualProjectionMatrix[6], v * this.VirtualProjectionMatrix[9] - this.VirtualProjectionMatrix[10]);
        let origin = glMatrix.vec3.clone(this.eye);
        return new Ray(direction, origin, Number.POSITIVE_INFINITY, 0);
    }

}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AmbientLight.html">AmbientLight</a></li><li><a href="Camera.html">Camera</a></li><li><a href="DirectionalLight.html">DirectionalLight</a></li><li><a href="Figure.html">Figure</a></li><li><a href="Material.html">Material</a></li><li><a href="PointLight.html">PointLight</a></li><li><a href="Ray.html">Ray</a></li><li><a href="Sphere.html">Sphere</a></li><li><a href="Triangle.html">Triangle</a></li></ul><h3>Global</h3><ul><li><a href="global.html#ClearALL">ClearALL</a></li><li><a href="global.html#computePixel">computePixel</a></li><li><a href="global.html#getPixelColor">getPixelColor</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#loadSceneFile">loadSceneFile</a></li><li><a href="global.html#rad">rad</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#setPixel">setPixel</a></li><li><a href="global.html#ShadowCast">ShadowCast</a></li><li><a href="global.html#showImagesLikeVideo">showImagesLikeVideo</a></li><li><a href="global.html#transformRay">transformRay</a></li><li><a href="global.html#triangleSolutions">triangleSolutions</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Sat Jun 22 2019 19:22:23 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
